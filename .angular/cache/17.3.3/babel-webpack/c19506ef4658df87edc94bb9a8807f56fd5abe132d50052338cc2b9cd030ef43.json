{"ast":null,"code":"import { Router } from '@angular/router';\nimport { BasicAuthenticationService } from '../service/basic-authentication.service';\nimport { TodoDataService } from '../service/data/todo-data.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/data/todo-data.service\";\nimport * as i2 from \"../service/basic-authentication.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../app-spinner/app-spinner.component\";\nfunction CheckoutComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"div\", 4)(3, \"div\", 5);\n    i0.ɵɵelement(4, \"app-app-spinner\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction CheckoutComponent_section_1_span_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Rs. \", ctx_r1.couponAmount, \"\");\n  }\n}\nfunction CheckoutComponent_section_1_span_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Rs. \", ctx_r1.couponAmount, \" (10% off)\");\n  }\n}\nfunction CheckoutComponent_section_1_span_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Rs. \", ctx_r1.total, \"\");\n  }\n}\nfunction CheckoutComponent_section_1_span_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Rs. \", ctx_r1.total, \"\");\n  }\n}\nfunction CheckoutComponent_section_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"section\", 6)(1, \"div\", 7)(2, \"div\", 8)(3, \"div\", 9)(4, \"div\", 10)(5, \"h5\", 11);\n    i0.ɵɵtext(6, \"Personal Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"hr\");\n    i0.ɵɵelementStart(8, \"p\", 12)(9, \"label\", 13);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"p\", 14)(12, \"label\", 15)(13, \"span\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"p\", 16)(16, \"label\", 17)(17, \"span\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(19, \"div\", 18)(20, \"h5\", 19);\n    i0.ɵɵtext(21, \"Delivered To\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"hr\");\n    i0.ɵɵelementStart(23, \"div\")(24, \"div\", 20)(25, \"p\", 21)(26, \"span\")(27, \"a\", 22)(28, \"b\");\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(30, \"span\")(31, \"a\", 22);\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"span\")(34, \"a\", 22);\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(36, \"br\");\n    i0.ɵɵelementStart(37, \"span\")(38, \"a\", 22);\n    i0.ɵɵtext(39);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(40, \"br\");\n    i0.ɵɵelementStart(41, \"span\")(42, \"a\", 22);\n    i0.ɵɵtext(43);\n    i0.ɵɵelementEnd()()()()()()();\n    i0.ɵɵelementStart(44, \"div\", 23)(45, \"div\", 24)(46, \"div\", 25)(47, \"div\", 26)(48, \"h3\", 27);\n    i0.ɵɵtext(49, \"Cart Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"p\", 28)(51, \"span\");\n    i0.ɵɵtext(52, \"Subtotal\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"span\");\n    i0.ɵɵtext(54);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(55, \"p\", 28)(56, \"span\");\n    i0.ɵɵtext(57, \"Delivery\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(58, \"span\");\n    i0.ɵɵtext(59);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(60, \"p\", 28)(61, \"span\");\n    i0.ɵɵtext(62, \"Discount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(63, CheckoutComponent_section_1_span_63_Template, 2, 1, \"span\", 29)(64, CheckoutComponent_section_1_span_64_Template, 2, 1, \"span\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(65, \"hr\");\n    i0.ɵɵelementStart(66, \"p\", 31)(67, \"span\");\n    i0.ɵɵtext(68, \"Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(69, CheckoutComponent_section_1_span_69_Template, 2, 1, \"span\", 29)(70, CheckoutComponent_section_1_span_70_Template, 2, 1, \"span\", 30);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(71, \"div\", 32)(72, \"div\", 33)(73, \"h3\", 27);\n    i0.ɵɵtext(74, \"Payment Method\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(75, \"div\", 34)(76, \"div\", 32)(77, \"div\", 35)(78, \"label\")(79, \"input\", 36);\n    i0.ɵɵlistener(\"click\", function CheckoutComponent_section_1_Template_input_click_79_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.setIsCashOnDelivery());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(80, \" Cash on Delivery\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(81, \"p\")(82, \"a\")(83, \"input\", 37);\n    i0.ɵɵlistener(\"click\", function CheckoutComponent_section_1_Template_input_click_83_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.getOtp());\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(84, \"p\")(85, \"a\")(86, \"input\", 38);\n    i0.ɵɵlistener(\"click\", function CheckoutComponent_section_1_Template_input_click_86_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.getOtp());\n    });\n    i0.ɵɵelementEnd()()()()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r1.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.emaail);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.phone);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.line1, \",\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.line2, \",\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.city, \",\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.state, \",\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.pincode);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate1(\"Rs. \", ctx_r1.subtotal, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Rs. \", ctx_r1.deliveryCharge, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isCouponApplied);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isCouponApplied);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isCouponApplied);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isCouponApplied);\n  }\n}\nexport let CheckoutComponent = /*#__PURE__*/(() => {\n  class CheckoutComponent {\n    constructor(dataServide, authService, router) {\n      this.dataServide = dataServide;\n      this.authService = authService;\n      this.router = router;\n    }\n    ngOnInit() {\n      this.isCashOnDelivery = false;\n      this.showSpinner = true;\n      this.phone = this.authService.getPhone();\n      this.emaail = this.authService.getEmail();\n      this.checkout = this.dataServide.getCheckOutDetail();\n      this.name = this.checkout.name;\n      this.line1 = this.checkout.line1;\n      this.line2 = this.checkout.line2;\n      this.city = this.checkout.city;\n      this.state = this.checkout.state;\n      this.pincode = this.checkout.pincode;\n      this.subtotal = this.checkout.subtotal;\n      this.couponAmount = this.checkout.couponAmount;\n      this.couponString = this.checkout.couponString;\n      this.deliveryCharge = this.checkout.deliveryCharge;\n      this.total = this.subtotal + this.deliveryCharge - this.couponAmount;\n      this.isCouponApplied = this.checkout.isCouponApplied;\n      if (this.name != null) {\n        this.showSpinner = false;\n      }\n    }\n    setIsCashOnDelivery() {\n      this.isCashOnDelivery = true;\n    }\n    getOtp() {\n      //alert(this.isCashOnDelivery)\n      this.showSpinner = true;\n      if (this.isCashOnDelivery) {\n        document.querySelector('#orderButton').style.display = \"none\";\n        document.querySelector('#orderButtonDisabled').style.display = \"block\";\n        // this.dataServide.getOtp(this.authService.getPhone()).subscribe(\n        //   response =>{\n        //     this.router.navigate(['verifyUser']);\n        //   }\n        // )\n        this.dataServide.getCartDetailMongoDB(this.authService.getUserID()).subscribe(response => {\n          this.cartArray = response;\n          for (var i = 0; i < this.cartArray.length; i++) {\n            this.addOrder(this.cartArray[i]);\n            this.deleteCartItem(this.cartArray[i].id);\n          }\n        });\n      }\n    }\n    addOrder(cart) {\n      this.dataServide.setOrderDetailMongoDB(cart, this.dataServide.getCheckOutDetail()).subscribe(response => {\n        this.router.navigate(['placeOrder']);\n      });\n    }\n    deleteCartItem(id) {\n      this.dataServide.deleteCartItemMongoDB(id).subscribe(response => {});\n    }\n    static #_ = this.ɵfac = function CheckoutComponent_Factory(t) {\n      return new (t || CheckoutComponent)(i0.ɵɵdirectiveInject(i1.TodoDataService), i0.ɵɵdirectiveInject(i2.BasicAuthenticationService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CheckoutComponent,\n      selectors: [[\"app-checkout\"]],\n      decls: 2,\n      vars: 2,\n      consts: [[\"style\", \"height: 1000px; width: 200px;\", 4, \"ngIf\"], [\"class\", \"ftco-section\", 4, \"ngIf\"], [2, \"height\", \"1000px\", \"width\", \"200px\"], [1, \"wrapper\"], [1, \"overlay\"], [1, \"spinner-wrapper\"], [1, \"ftco-section\"], [1, \"container\"], [1, \"row\", \"justify-content-center\"], [1, \"col-xl-7\"], [\"id\", \"userProfile\"], [2, \"padding-left\", \"0px\", \"color\", \"blue\"], [\"id\", \"userName\"], [1, \"userName\"], [\"id\", \"userEmail\"], [\"id\", \"emailIDField\"], [\"id\", \"userPhoneNo\"], [\"id\", \"phoneNoField\"], [\"id\", \"linkDetailMobile\", 2, \"overflow\", \"hidden\"], [2, \"padding-left\", \"10px\", \"color\", \"blue\", \"margin-left\", \"10px\"], [\"id\", \"schedule\"], [2, \"float\", \"left\", \"width\", \"70%\", \"padding\", \"10px 0px 10px 30px\", \"font-family\", \"serif\", \"font-size\", \"15px\"], [\"target\", \"_blank\"], [1, \"col-xl-5\"], [1, \"row\", \"mt-5\", \"pt-3\"], [1, \"col-md-12\", \"d-flex\", \"mb-5\"], [1, \"cart-detail\", \"cart-total\", \"p-3\", \"p-md-4\"], [1, \"billing-heading\", \"mb-4\"], [1, \"d-flex\"], [4, \"ngIf\"], [\"style\", \"color: green;\", 4, \"ngIf\"], [1, \"d-flex\", \"total-price\"], [1, \"col-md-12\"], [1, \"cart-detail\", \"p-3\", \"p-md-4\"], [1, \"form-group\"], [1, \"radio\"], [\"type\", \"checkbox\", \"name\", \"optradio\", 1, \"mr-2\", 3, \"click\"], [\"type\", \"button\", \"id\", \"orderButton\", \"value\", \"Place an order\", 1, \"btn\", \"btn-primary\", \"py-3\", \"px-4\", 3, \"click\"], [\"type\", \"button\", \"disabled\", \"true\", \"id\", \"orderButtonDisabled\", \"value\", \"Place an order\", 1, \"btn\", \"btn-primary\", \"py-3\", \"px-4\", 2, \"display\", \"none\", 3, \"click\"], [2, \"color\", \"green\"]],\n      template: function CheckoutComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, CheckoutComponent_div_0_Template, 5, 0, \"div\", 0)(1, CheckoutComponent_section_1_Template, 87, 14, \"section\", 1);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.showSpinner);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.showSpinner);\n        }\n      },\n      dependencies: [i4.NgIf, i5.AppSpinnerComponent],\n      styles: [\"#userDetail[_ngcontent-%COMP%]{width:35%;height:35em;padding:10px;background-color:#f7f7f7;border-radius:12px;margin:1.5%;overflow:scroll;scroll-behavior:smooth;box-shadow:0 4px 8px #0003}#MyProfileTab[_ngcontent-%COMP%]{width:100%}#linkDetail[_ngcontent-%COMP%]{width:60%;padding:10px;border-radius:12px;margin:1.5%;overflow:auto}#linkDetailMobile[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:12px;margin:1.5%;overflow:auto}.linkTab[_ngcontent-%COMP%]{background-color:#f7f7f7;height:29%;width:92%;margin:0% 0 4% 7%;border-radius:17px;box-shadow:0 4px 8px #0003}.linkTabMobile[_ngcontent-%COMP%]{background-color:#f7f7f7;height:100%;width:100%;margin:0% 0 4% 7%;border-radius:17px;box-shadow:0 4px 8px #0003}.linkTab[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003}.moduleImage[_ngcontent-%COMP%]{width:88px;height:88px;margin-left:-36%;margin-top:20%;border-radius:15%;box-shadow:0 4px 8px #0003}.moduleImage[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003}.appName[_ngcontent-%COMP%]{width:auto;height:50px;margin-left:-5%;margin-top:17%}.iosSpan[_ngcontent-%COMP%]{float:left;width:18%;padding:6% 0 0 1%}.iosImage[_ngcontent-%COMP%]{height:33px;width:106px}.androidSpan[_ngcontent-%COMP%]{float:left;width:15%;padding:6% 0 0 3%}.androidImage[_ngcontent-%COMP%]{height:33px;width:105px}.youtubeSpan[_ngcontent-%COMP%]{float:left;width:18%;padding:5.5% 0 0 3%}.youtubeImage[_ngcontent-%COMP%]{height:27px;width:42px}.youtubetext[_ngcontent-%COMP%]{font-weight:700}.level[_ngcontent-%COMP%]{margin-left:8%;margin-top:-11%}.altametrics[_ngcontent-%COMP%]{font-size:14px}.schedule[_ngcontent-%COMP%]{font-size:30px;line-height:30px;color:#ea0000}.inventory[_ngcontent-%COMP%]{font-size:30px;line-height:30px;color:#9988da}.dar[_ngcontent-%COMP%]{font-size:30px;line-height:30px;color:#6f5050}.alertField[_ngcontent-%COMP%]{font-size:15px;color:red;font-style:italic}#updateEmail[_ngcontent-%COMP%], #addEmail[_ngcontent-%COMP%]{top:20%!important;border-radius:7px}#deleteEmail[_ngcontent-%COMP%]{top:30%!important;border-radius:7px}.PopUpModalHeader[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:10px 10px 0 0}.error[_ngcontent-%COMP%]{font-family:inherit;font-size:12px;color:#ff4500}.updateMail[_ngcontent-%COMP%]{height:32px;width:104px;border:none;border-radius:22px;background-color:#21984b!important;font-family:sans-serif;font-size:12px;outline-color:#fff}.lebelText[_ngcontent-%COMP%]{font-family:sans-serif;font-size:13px;text-align:center;color:#a09494}#updateEmail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:sans-serif;font-size:13px;color:#a09494;margin-top:1%}.updateMail[_ngcontent-%COMP%]:hover{background-color:#21984b!important}.notes[_ngcontent-%COMP%]{color:red}.closeImage[_ngcontent-%COMP%]{height:20px;width:20px}#confirm-dialog[_ngcontent-%COMP%]   .pull-right[_ngcontent-%COMP%]{margin-top:37px}.deleteConfirmation[_ngcontent-%COMP%]{color:#5a5a63;font-size:14px!important}.deleteNotes[_ngcontent-%COMP%]{color:#5a5a63;font-size:12px!important}.deleteMailBtn[_ngcontent-%COMP%]{margin-left:71%;line-height:4px;margin-top:0%}.deleteMail[_ngcontent-%COMP%]{height:32px;width:85px;border:none;border-radius:22px;font-family:sans-serif;font-size:12px;outline-color:#fff}#deleteEmail[_ngcontent-%COMP%]{width:42%;margin-left:-21%}.alertInBox[_ngcontent-%COMP%]{border-radius:5px!important;border:#FF0000 1px solid!important}.closeModal[_ngcontent-%COMP%]{color:#000!important;opacity:1!important;background-color:transparent!important}.closeModal[_ngcontent-%COMP%]:hover{background:transparent!important}@-moz-document url-prefix(){#deleteEmail .modal-body{height:115px}}#deleteMobile[_ngcontent-%COMP%]{top:30%!important;border-radius:7px}#deleteMobile[_ngcontent-%COMP%]{width:42%;margin-left:-21%}#addMobile[_ngcontent-%COMP%]{top:30%!important;border-radius:7px}#addMobile[_ngcontent-%COMP%]{width:42%;margin-left:-21%}.profile-img-container[_ngcontent-%COMP%]{position:relative;display:inline-block;overflow:hidden;margin-top:7%;font-size:20px;color:#97d1f5;font-style:inherit;word-break:break-word}.generalInfoEmail[_ngcontent-%COMP%]{word-break:break-word}.profile-img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:1.5}.profile-img-container[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{opacity:4;top:0;z-index:500}.profile-img-container[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{top:50%;position:absolute;left:0;right:0;transform:translateY(-50%)}.fa-camera[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0}.profile-img-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;position:absolute;opacity:4;inset:-100% 0 0;text-align:center;color:inherit}.centered-and-cropped[_ngcontent-%COMP%]{object-fit:cover;height:100px!important}#userDetail[_ngcontent-%COMP%]{width:35%;padding:10px;background-color:#f7f7f7;border-radius:12px;margin:1.5%;box-shadow:0 4px 8px #0003}#userDetailMobile[_ngcontent-%COMP%]{padding:4px;background-color:#f7f7f7;border-radius:10px;margin:1%;box-shadow:0 2px 4px #0003}#userDetail[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003}#userProfile[_ngcontent-%COMP%]{margin-left:7%}#userName[_ngcontent-%COMP%]{margin-top:7%;font-size:18px;color:#97d1f5;font-style:inherit;word-break:break-word}.genInfo[_ngcontent-%COMP%]{font-size:25px}#generalInfo[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0 7% 2% 0;border-top:3px solid #eee}.marginTop[_ngcontent-%COMP%]{margin-top:6%}.inlineDisplay[_ngcontent-%COMP%]{display:inline-flex;word-break:break-word}#generalInfo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1% 0}#generalInfo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:-3%}.topbar[_ngcontent-%COMP%]{color:#000;padding-left:20px;padding-top:0;font-size:19px}\"]\n    });\n  }\n  return CheckoutComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}